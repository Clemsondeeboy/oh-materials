<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Your Cart | Oh! Materials</title>
  <link href="dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="font-awesome/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background-color: #F4F4F4;
    }
  </style>
</head>

<body>
  <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container">
    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center" href="#">
      <img src="images/logo.png" alt="Oh Materials Logo" height="40" class="me-2">
    </a>

    <!-- Mobile toggle -->
   <!-- <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button> -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon" style="filter: invert(1);"></span>
      </button>

    <!-- Nav Links -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="marketplace.html">Marketplace</a></li>
        <li class="nav-item"><a class="nav-link" href="vendor.html">Vendors</a></li>
        <li class="nav-item"><a class="nav-link" href="Pricing.html">Pricing</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
      </ul>

      <!-- Icons -->
      <div class="d-flex social">
        <a href="#" class="nav-link text-white"><img src="images/search.png" alt=""></a>
        <a href="login.html" class="nav-link text-white"><img src="images/person.png" alt=""></a>
        <div class="position-relative">
          <a href="cart.html" class="nav-link text-white"><img src="images/cart.png" alt=""></a>
          <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">0</span>
        </div>
      </div>
    </div>
  </div>
</nav>


  <!-- Cart Section -->
  <div class="container py-5">
    <h3 class="cart-title py-5">YOUR CART</h3>

    <div class="row g-4">
      <div class="col-lg-8">
        <div id="cart-items"></div>
      </div>

      <div class="col-lg-4 py-5">
        <div class="summary-box">
          <h5>CART SUMMARY</h5>
          <div class="summary-line"><span>Item’s total (<span id="item-count">0</span>)</span><span id="subtotal">£0.00</span></div>
          <div class="summary-line"><span>Subtotal</span><span id="total">£0.00</span></div>
          <button class="checkout-btn" id="checkoutBtn">Checkout (£0.00)</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="row gy-4">
        <!-- Logo & About -->
        <div class="col-lg-3 col-md-6">
          <img src="images/logo.png" alt="Oh! Materials" style="max-width: 150px" />
          <p class="mt-3 footer-p">
            Smart procurement platform for construction materials, connecting
            vendors and buyers across London.
          </p>
          <div class="social-icons mt-3">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-tiktok"></i></a>
            <a href="#"><i class="fab fa-x-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
  
        <!-- Quick Links -->
        <div class="col-lg-3 col-md-6">
          <h5>Quick links</h5>
          <ul class="list-unstyled">
            <li><a href="index.html">Home</a></li>
            <li><a href="marketplace.html">Marketplace</a></li>
            <li><a href="vendor.html">Vendors</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
  
        <!-- Support -->
        <div class="col-lg-3 col-md-6">
          <h5>Support</h5>
          <ul class="list-unstyled">
            <li><a href="#">Help Center</a></li>
            <li><a href="#">FAQs</a></li>
            <li><a href="#">Terms & Conditions</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </div>
  
        <!-- Contact -->
        <div class="col-lg-3 col-md-6">
          <h5>Contact</h5>
          <p>Email: support@oh!materials.com</p>
          <p>Phone: +234 807 184 0381</p>
        </div>
      </div>
  
      <div class="copyright">© 2025 Oh! Materials. All rights reserved.</div>
    </div>
  </footer>


  <script src="dist/js/bootstrap.bundle.min.js"></script>
  <script src="dist/js/bootstrap.min.js"></script>

  <script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartItemsContainer = document.getElementById("cart-items");
    const subtotalEl = document.getElementById("subtotal");
    const totalEl = document.getElementById("total");
    const itemCountEl = document.getElementById("item-count");
    const cartCount = document.getElementById("cart-count");
    const checkoutBtn = document.getElementById("checkoutBtn");

    function updateCartBadge() {
      const totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartCount.textContent = totalQty;
      itemCountEl.textContent = totalQty;
    }

    function updateTotals() {
      let subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      subtotalEl.textContent = "£" + subtotal.toFixed(2);
      totalEl.textContent = "£" + subtotal.toFixed(2);
      checkoutBtn.textContent = "Checkout (£" + subtotal.toFixed(2) + ")";
      updateCartBadge();
    }

    function saveCart() {
      localStorage.setItem("cart", JSON.stringify(cart));
      updateTotals();
    }

    function renderCart() {
      cartItemsContainer.innerHTML = "";
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = `
          <div class="cart-section text-center">
            <i class="bi bi-cart-x display-4 text-muted"></i>
            <h6 class="mt-3 text-muted">Your cart is empty</h6>
            <a href="marketplace.html" class="btn btn-success mt-3">Go to Marketplace</a>
          </div>`;
        updateTotals();
        return;
        } 
        
      cart.forEach((item, index) => {
        const div = document.createElement("div");
        div.classList.add("cart-section");
        div.innerHTML = `
          <div class="cart-item">
            <div class="d-flex align-items-start">
              <img src="${item.image}" alt="${item.name}">
              <div class="cart-item-info">
                <h6>${item.name}</h6>
                <p class="vendor">Vendor: ${item.vendor}</p>
                <p class="in-stock">In stock</p>
                <button class="remove-btn"><i class="fa fa-trash"></i> Remove</button>
              </div>
            </div>
            <div class="price-section">
              <div class="price">£${item.price.toFixed(2)}</div>
              <div><span class="old-price">£149.99</span><span class="discount">-75%</span></div>
              <div class="quantity-control">
                <button class="quantity-btn decrease">-</button>
                <input class="quantity-input" type="text" value="${item.quantity}" readonly>
                <button class="quantity-btn increase">+</button>
              </div>
            </div>
          </div>
        `;

        div.querySelector(".increase").addEventListener("click", () => {
          item.quantity++;
          saveCart();
          renderCart();
        });

        div.querySelector(".decrease").addEventListener("click", () => {
          if (item.quantity > 1) {
            item.quantity--;
          } else {
            cart.splice(index, 1);
          }
          saveCart();
          renderCart();
        });

        div.querySelector(".remove-btn").addEventListener("click", () => {
          cart.splice(index, 1);
          saveCart();
          renderCart();
        });

        cartItemsContainer.appendChild(div);
      });

       // === HANDLE CHECKOUT ===
      document.getElementById("checkoutBtn").addEventListener("click", () => {
        window.location.href = "checkout.html";
      });

      updateTotals();
    }

    renderCart();
  </script>
</body>
</html>
